{% extends 'other_base.html' %}
 
{% block title %}<title>Product List</title>{% endblock %}

{% load crispy_forms_tags%}

{% block main %}
    <div class="container-fluid mt-5">
        <div class="row mb-5 d-flex justify-content-center">
            <span class="display-4"><u>Quick Links</u></span>
            <div class="col-md-6">
                <a href="{% url 'manager:our_products_are' %}" class="list-group-item list-group-item-action waves-effect">
                    <i class="fa fa-info mr-3"></i>Our Product Info
                </a> 
                <a href="{% url 'manager:campaign' %}" class="list-group-item list-group-item-action waves-effect">
                    <i class="fa fa-users mr-3"></i> Campaigns
                </a>
                <a href="{% url 'manager:category_list' %}" class="list-group-item list-group-item-action waves-effect">
                    <i class="fa fa-object-ungroup mr-3"></i> Product Categories
                </a>
                <a href="{% url 'manager:product_images' %}" class="list-group-item list-group-item-action waves-effect">
                    <i class="fa fa-image mr-3"></i> Product Images
                </a>
            </div>
        </div>
        <div class="row wow fadeIn">
            <div class="col-md-10 mb-5">
                <div class="card card-list">
                    <div class="card-header white d-flex justify-content-between align-items-center py-3">
                        <p class="h5-responsive font-weight-bold mb-0"><strong>Total:</strong> {{products.count}}</p>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-5">
                            <strong>Product List</strong>
                        </div>
                        <table class="table">
                        <thead>
                            <tr>
                            <th scope="col">Products</th>
                            <th scope="col"></th>
                            <th scope="col"></th>
                            <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in products %}
                                <tr>
                                <th scope="row"><a class="text-primary">{{item.title}}</a></th>
                                <th></th>
                                <th></th>
                                <th>
                                    <a class='btn btn-warning btn-sm mb-1' href="{% url 'manager:product_update' item.id %}">Update</a>
                                    <a class='btn btn-danger btn-sm' href="{% url 'manager:delete_product' item.id %}">Delete</a>
                                </th>
                                </tr>
                            {% endfor %}
                        </tbody>
                        </table>
                    </div>
                </div> 
            </div>
            <div class="col-md-10">
                <div class='card'>
                    <div class='text-center mt-3'>
                        <strong>Create Product</strong>  
                    </div>
                    <div class="card-body">
                        <form action="" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            {{form|crispy}}
                            <button class='btn btn-dark' type="submit">Create</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}